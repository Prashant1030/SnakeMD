<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SnakeMD — Levels, Bonus Food, Mobile Controls</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="hud">
    <div class="hud-left">
      <div class="brand">SNAKEMD</div>
      <div class="stat"><span class="label">Score</span><span id="score">0</span></div>
      <div class="stat"><span class="label">High</span><span id="highScore">0</span></div>
      <div class="stat"><span class="label">Level</span><span id="level">1</span></div>
    </div>
    <div class="hud-right">
      <button id="btnSettings" class="icon-btn" type="button" aria-haspopup="dialog" aria-controls="settingsModal">Settings</button>
      <button id="btnTheme" class="icon-btn" type="button" title="Toggle theme">Theme</button>
    </div>
  </header>

  <main class="layout">
    <section class="game-wrap">
      <canvas id="game" width="560" height="560" aria-label="Snake playzone"></canvas>

      <!-- Intro overlay -->
      <div id="intro" class="overlay" role="dialog" aria-modal="true" aria-labelledby="introTitle">
        <div class="overlay-card">
          <h2 id="introTitle">How to play</h2>
          <ul class="howto">
            <li><b>Goal:</b> Eat red food to grow. Avoid walls and your body (or wrap if walls are off).</li>
            <li><b>Controls:</b> Arrow keys/WASD or the on-screen ring below. Center is Play/Pause/Restart.</li>
            <li><b>Bonus:</b> Every 5 red foods spawns a green bonus worth +5 for 4 seconds.</li>
            <li><b>Levels:</b> Each 100 points increases speed and level.</li>
            <li><b>Heads-up:</b> Mouth faces your direction and opens when you eat.</li>
          </ul>
          <button id="btnStart" class="primary" type="button">Start</button>
        </div>
      </div>

      <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
    </section>

    <section class="controls" aria-label="On-screen controls">
      <div class="control-ring">
        <button id="dirUp" class="control-btn up" aria-label="Up">↑</button>
        <button id="dirLeft" class="control-btn left" aria-label="Left">←</button>
        <button id="dirRight" class="control-btn right" aria-label="Right">→</button>
        <button id="dirDown" class="control-btn down" aria-label="Down">↓</button>
        <button id="btnCenter" class="center-btn" aria-label="Play / Pause / Restart">▶</button>
      </div>
    </section>
  </main>

  <!-- Settings modal (no <dialog> to avoid browser quirks) -->
  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
    <div class="panel">
      <header class="panel-head">
        <h3 id="settingsTitle">Settings</h3>
      </header>
      <div class="panel-body">
        <label class="row">
          <span class="row-label">Walls</span>
          <span class="row-desc">When off, the snake wraps around edges.</span>
          <input id="toggleWalls" type="checkbox" />
        </label>

        <label class="row">
          <span class="row-label">Theme</span>
          <span class="row-desc">Switch between dark and light.</span>
          <select id="selectTheme">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
          </select>
        </label>

        <div class="row">
          <span class="row-label">Levels</span>
          <span class="row-desc">Advance every 100 points. Speed increases each level.</span>
          <div class="readonly">Automatic</div>
        </div>
      </div>
      <footer class="panel-foot">
        <button id="btnResetHigh" type="button">Reset High Score</button>
        <button id="btnCloseSettings" type="button">Close</button>
      </footer>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
